## 1. 核心结构
RDBMS底层使用B树、B+树的存储结构，hbase使用LSM树(log-structured merge tree)。
- B+树
>树状数据结构，保持数据稳定有序，自底向上插入(与二叉树相反)，通过最大化每个内部节点的子节点数目来减少树的高度，不经常发生平衡操作，增加效率。  
>>在范围内可变子节点的数目，不像自平衡二叉树经常重新平衡，eg.2-3B树，可能有2或3个子节点/内部节点。节点通常表示为一组有序的元素和子指针。
- LSM树  
>算法对索引变更延迟+批量处理，使用基于内存和磁盘的组件（类似归并排序），对索引值查询可用其组件访问(除加锁期间)。减少磁盘磁臂开销(寻道+转动)，最适用索引插入比查询操作更常见的情况，eg.历史记录表+日志文件。

>**思想：划分不同等级的树。**  
eg.二级树，一份索引数据由2棵树（内存，可能是B树、AVL树等+磁盘，是B树）组成。数据先插入内存的树，超阈值，从左至右遍历，合并内存中叶子节点+磁盘中叶子节点，达到磁盘存储页大小，持久化到磁盘+更新父节点对叶子节点指针。
磁盘的叶子节点（非叶子节点也被缓存到内存中）合并后，旧数据复制一份，与内存的数据一起顺序写到磁盘。