## 集群健康检查，文档CRUD
>1、document数据格式;  
2、电商网站商品管理案例：背景介绍;  
3、简单的集群管理;  
4、商品的CRUD操作（document CRUD操作）.

###document数据格式
- 面向文档的搜索分析引擎
>（1）应用系统的数据结构都是面向对象的，复杂的;  
（2）对象数据存储到数据库中，只能拆解开来，变为扁平的多张表，每次查询的时候还得还原回对象格式，相当麻烦;  
（3）ES是面向文档的，文档中存储的数据结构，与面向对象的数据结构是一样的，基于这种文档数据结构，es可以提供复杂的索引，全文检索，分析聚合等功能;  
（4）es的document用json数据格式来表达

```JAVA
public class Employee {
  private String email;
  private String firstName;
  private String lastName;
  private EmployeeInfo info;
  private Date joinDate;
}

private class EmployeeInfo {
  private String bio; // 性格
  private Integer age;
  private String[] interests; // 兴趣爱好
}

EmployeeInfo info = new EmployeeInfo();
info.setBio("curious and modest");
info.setAge(30);
info.setInterests(new String[]{"bike", "climb"});

Employee employee = new Employee();
employee.setEmail("zhangsan@sina.com");
employee.setFirstName("san");
employee.setLastName("zhang");
employee.setInfo(info);
employee.setJoinDate(new Date());
```
>employee对象：里面包含了Employee类自己的属性，还有一个EmployeeInfo对象;  
两张表：employee表，employee_info表，将employee对象的数据重新拆开来，变成Employee数据和EmployeeInfo数据;  
employee表：email，first_name，last_name，join_date，4个字段;  
employee_info表：bio，age，interests，3个字段；此外还有一个外键字段，比如employee_id，关联着employee表.  

```
{
    "email":      "zhangsan@sina.com",
    "first_name": "san",
    "last_name": "zhang",
    "info": {
        "bio":         "curious and modest",
        "age":         30,
        "interests": [ "bike", "climb" ]
    },
    "join_date": "2017/01/01"
}
```
我们就明白了es的document数据格式和数据库的关系型数据格式的区别。

### 电商网站商品管理案例背景介绍
有一个电商网站，需要为其基于ES构建一个后台系统，提供以下功能：  
>（1）对商品信息进行CRUD（增删改查）操作；  
（2）执行简单的结构化查询；  
（3）可以执行简单的全文检索，以及复杂的phrase（短语）检索；  
（4）对于全文检索的结果，可以进行高亮显示；  
（5）对数据进行简单的聚合分析。