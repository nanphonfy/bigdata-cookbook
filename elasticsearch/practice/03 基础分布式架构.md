### 一、Elasticsearch的基础分布式架构
>Elasticsearch对复杂分布式机制的透明隐藏特性  
2、Elasticsearch的垂直扩容与水平扩容  
3、增减或减少节点时的数据rebalance  
4、master节点  
5、节点对等的分布式架构  

#### 1、Elasticsearch对复杂分布式机制的透明隐藏特性
>Elasticsearch是一套分布式的系统，分布式是为了应对大数据量,隐藏了复杂的分布式机制。  
>- 分片机制（随随便便就可将document插入到es集群中，不用关心数据怎么分片，数据到哪个shard中去）；   
>- cluster discovery（集群发现机制，eg.单机status从yellow转green:启动第二个es进程，将作为一个node，自动被集群发现并加入，还接受部分数据，replica shard）； 
>- shard负载均衡（eg.有3个节点，共25个shard要分配到3个节点，es会自动进行均匀分配，以保持每个节点均衡的读写负载请求）；  
>- shard副本，请求路由，集群扩容，shard重分配。

#### 2、Elasticsearch的垂直扩容与水平扩容
>- 垂直扩容：采购更强大的服务器，成本非常高昂，而且会有瓶颈。假设世界上最强大的服务器容量是10T，当总数据量达到5000T候，要采购多少台最强大的服务器？
>- 水平扩容：业界经常采用的方案:采购越来越多的普通服务器，性能较一般，但很多普通服务器组织在一起，就能拥有强大的计算和存储能力
>>普通服务器：1T/1万，100T共100万  
强大服务器：10T/50万，100T共500万  
扩容对应用程序的透明性

#### 3、增减或减少节点时的数据rebalance
>- 保持负载均衡
#### 4、master节点
>- 创建或删除索引
>- 增加或删除节点

#### 5、节点平等的分布式架构
>- 节点对等，每个节点都能接收所有的请求
>- 自动请求路由
>- 响应收集

![image](https://raw.githubusercontent.com/nanphonfy/note-images/master/bigdata-cookbook/elasticsearch/practice/03/shard%26replica%E6%9C%BA%E5%88%B6.png)
